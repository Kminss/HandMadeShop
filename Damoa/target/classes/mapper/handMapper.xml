<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.javajaba.damoa.hand">
	<!-- 상품목록 -->
	<select id="list" parameterType="HandDTO" resultType="HandDTO">
	select 
	* 
	from handmade
	</select>
	<!-- 상품등록 -->
	<insert id="write" parameterType="HandDTO">
		<selectKey resultType="int" keyProperty="handNum" order="BEFORE">
  			SELECT HAND_SEQ.nextval from dual
  		</selectKey>  	
		insert into
		HANDMADE (mId, handNum, handTitle, handContent, handType, handImgCnt)
		values ( #{mId}, #{handNum}, #{handTitle}, #{handContent}, #{handType}, #{handImgCnt} )
	</insert>
	
	<!-- 상품상세조회 -->
	<select id="select" parameterType="integer" resultType="HandDTO">
	select * from 
	handmade
	where
	handNum = #{handNum}
	</select>
	
	<!-- 상품수정 -->
	<update id="update" parameterType="HandDTO">
	update handmade 
	set 
	handTitle = #{handTitle}, handContent=#{handContent}, handType=#{handType}
	where 
	handNum = #{handNum} and mId = #{mId}
	</update>
	
	<!-- 상품삭제 -->
	<delete id="delete" parameterType="Map">
	delete from handmade
	where 
	mId=#{mId} and handNum = #{handNum}
	</delete>
</mapper>