<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.javajaba.damoa.hand">

	<select id="list" parameterType="HandDTO" resultType="HandDTO">
	select 
	* 
	from handmade
	</select>

	<insert id="write" parameterType="HandDTO">
		<selectKey keyProperty="handNum" resultType="integer"
			order="BEFORE">
			select hand_seq.nextval from dual
		</selectKey>
		insert into
		handmade (mId, handNum, handTitle, handContent, handType)
		values ( #{mId}, #{handNum}, #{handTitle}, #{handContent}, #{handType} )
	</insert>
	<select id="select" parameterType="integer" resultType="HandDTO">
	select * from 
	handmade
	where
	handNum = #{handNum}
	</select>
	<update id="update" parameterType="HandDTO">
	update handmade 
	set 
	handTitle = #{handTitle}, handContent=#{handContent}, handType=#{handType}
	where 
	handNum = #{handNum} and mId = #{mId}
	</update>
	<delete id="delete" parameterType="Map">
	delete from handmade
	where 
	mId=#{mId} and handNum = #{handNum}
	</delete>
</mapper>